<!DOCTYPE html>
<html lang="en-CA">

<head>
	<!--Liam Salt-->
	<title>Treble</title>
	<meta charset="utf-8"/>
	<meta name="author" content="Liam Salt"/> 	
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/treblestyle.css"/>
	
	
	
</head>

<body style="background-color:#ffffff;">
	<h1 id="titleLogo" style="font-family:'Montserrat';color:black;text-align:center;font-size:40px;margin-bottom:10px;margin-top:10px">&#119070 Treble &#119070</h1>
	<div id="maincontent">
		<div class = "column left">
			<div class="container">
				<div class="category" contenteditable>CATEGORY 1</div>
				<div  class="category" contenteditable>CATEGORY 2</div>
				<div class="category" contenteditable>CATEGORY 3</div>
				<div class="category" contenteditable>CATEGORY 4</div>
				<div class="category" contenteditable>CATEGORY 5</div>
				<div class = "clue" id = "clue11" clue-text="What is this song?" category = "0" song = "0" song-link="" points="100">100</div>
				<div class = "clue" id = "clue12" clue-text="What is this song?" category = "0" song = "1" song-link="" points="100">100</div>
				<div class = "clue" id = "clue13" clue-text="What is this song?" category = "0" song = "2" song-link="" points="100">100</div>
				<div class = "clue" id = "clue14" clue-text="What is this song?" category = "0" song = "3" song-link="" points="100">100</div>
				<div class = "clue" id = "clue15" clue-text="What is this song?" category = "0" song = "4" song-link="" points="100">100</div>
				<div class = "clue" id = "clue21" clue-text="What is this song?" category = "1" song = "0" song-link="" points="200">200</div>
				<div class = "clue" id = "clue22" clue-text="What is this song?" category = "1" song = "1" song-link="" points="200">200</div>
				<div class = "clue" id = "clue23" clue-text="What is this song?" category = "1" song = "2" song-link="" points="200">200</div>
				<div class = "clue" id = "clue24" clue-text="What is this song?" category = "1" song = "3" song-link="" points="200">200</div>
				<div class = "clue" id = "clue25" clue-text="What is this song?" category = "1" song = "4" song-link="" points="200">200</div>
				<div class = "clue" id = "clue31" clue-text="What is this song?" category = "2" song = "0" song-link="" points="300">300</div>
				<div class = "clue" id = "clue32" clue-text="What is this song?" category = "2" song = "1" song-link="" points="300">300</div>
				<div class = "clue" id = "clue33" clue-text="What is this song?" category = "2" song = "2" song-link="" points="300">300</div>
				<div class = "clue" id = "clue34" clue-text="What is this song?" category = "2" song = "3" song-link="" points="300">300</div>
				<div class = "clue" id = "clue35" clue-text="What is this song?" category = "2" song = "4" song-link="" points="300">300</div>
				<div class = "clue" id = "clue41" clue-text="What is this song?" category = "3" song = "0" song-link="" points="400">400</div>
				<div class = "clue" id = "clue42" clue-text="What is this song?" category = "3" song = "1" song-link="" points="400">400</div>
				<div class = "clue" id = "clue43" clue-text="What is this song?" category = "3" song = "2" song-link="" points="400">400</div>
				<div class = "clue" id = "clue44" clue-text="What is this song?" category = "3" song = "3" song-link="" points="400">400</div>
				<div class = "clue" id = "clue45" clue-text="What is this song?" category = "3" song = "4" song-link="" points="400">400</div>
				<div class = "clue" id = "clue51" clue-text="What is this song?" category = "4" song = "0" song-link="" points="500">500</div>
				<div class = "clue" id = "clue52" clue-text="What is this song?" category = "4" song = "1" song-link="" points="500">500</div>
				<div class = "clue" id = "clue53" clue-text="What is this song?" category = "4" song = "2" song-link="" points="500">500</div>
				<div class = "clue" id = "clue54" clue-text="What is this song?" category = "4" song = "3" song-link="" points="500">500</div>
				<div class = "clue" id = "clue55" clue-text="What is this song?" category = "4" song = "4" song-link="" points="500">500</div>
				 
				<div class="clue-popup">
				<div id="dailyDoubleOverlay"> <div class="dd-text"> DAILY<br>DOUBLE </div></div>
					<div class="clue-text"></div>
					<div id="embed-iframe"></div>
					
					<div class="player" id="playbutton"><span>Play</span></div>
					
					<input type="range" min="1" max="20" value="20" class="slider" id="myRange" oninput="this.nextElementSibling.nextElementSibling.value = ((this.value!=2)? (0.5*this.value).toString().concat(' seconds'): (0.5*this.value).toString().concat(' second'));updateWager();"><br>
					<output style="padding:5px;margin-bottom:2px;position:relative;top:100px;">10 seconds</output>
					<p id="wager" points = "0" >0</p>
					
					<script>

						function updateWager() {
  const value = parseInt(document.getElementById("myRange").value);
  const win = document.getElementById("wager");

  const seconds = 0.5 * value;
  const base = parseInt(win.points) || 0;

  const effectiveSeconds = seconds / timeMultiplier;

  const wager = Math.ceil(
    base * (1 + 0.5 * (10 - effectiveSeconds))
  );

  win.innerHTML = "Wager: " + wager;
}
					</script>
						
					
					
					
					<button class="close-button">Close</button>
					
					<button class="reveal-button" id="revealButton">Reveal</button>
					<div class="answer-text" id="answerText" style="display:none;"></div>
				</div>
			</div>
			
		</div>
		<div class = "column right">
			<div id="score-board">
				<h1>Scoreboard</h1>
				<table id="score-table">
					<tr>
						<th>Player</th>
						<th>Score</th>
						<th>Actions</th>
					</tr>
					<tbody id="score-table-body">
					<tr><td><div contenteditable>Player 1</div></td><td><div id="player1score" contenteditable >0</div></td><td><span class="dot" onclick="increment(1)"><b>+</b></span><span class="dot" onclick="decrement(1)"><b>-</b></span></td></tr>
					<!--<tr><td><div contenteditable>Player 2</div></td><td><div id="player2score" contenteditable>0</div></td><td><span class="dot" onclick="increment(2)"><b>+</b></span><span class="dot" onclick="decrement(2)"><b>-</b></span></td></tr>
					<tr><td><div contenteditable>Player 3</div></td><td><div id="player3score" contenteditable>0</div></td><td><span class="dot" onclick="increment(3)"><b>+</b></span><span class="dot" onclick="decrement(3)"><b>-</b></span></td></tr>>
					<tr><td><div contenteditable>Player 4</div></td><td><div id="player4score" contenteditable>0</div></td><td><span class="dot" onclick="increment(4)"><b>+</b></span><span class="dot" onclick="decrement(4)"><b>-</b></span></td></tr>-->
					</tbody>
					
				</table>
				<span class="dot" onclick="newPlayer()"><b>+</b></span>
				<script>
				function newPlayer(){
				playerInc();
				const playerNum = playerCount;
				
				const div1 = document.createElement('div');
				div1.innerHTML = 'Player '.concat(playerNum);
				div1.contentEditable = 'true';
				const div2 = document.createElement('div');
				div2.innerHTML = '0';
				div2.id = "player".concat(playerNum).concat('score');
				div2.contentEditable = 'true';
				const cell1 = document.createElement('td');
				cell1.appendChild(div1);
				const cell2 = document.createElement('td');
				cell2.appendChild(div2);
				
				row = document.createElement('tr');
				
				
				
				const plusBtn = document.createElement('span')
				plusBtn.classList.add("dot");
				plusBtn.onclick = function(){increment(playerNum)};
				plusBtn.innerHTML = "<b>+</b>"
				
				const minusBtn = document.createElement('span')
				minusBtn.classList.add("dot");
				minusBtn.onclick = function(){decrement(playerNum)};
				minusBtn.innerHTML = "<b>-</b>"
				
				const cell3 = document.createElement('td');
				cell3.appendChild(plusBtn);
				cell3.appendChild(minusBtn);
				
				
				row.appendChild(cell1);
				row.appendChild(cell2);
				row.appendChild(cell3);
				document.getElementById('score-table-body').appendChild(row);
				
				
				
				}
				</script>
			</div>
		</div>
	</div>
	<div id="game-pack-upload" class="upload-panel" style="font-family:'Montserrat';padding-left:12px">
	  <h2>Upload Game Pack</h2>

	  <p>
		Upload a folder containing both a <code>game.json</code> file and an <code>audio/</code> subfolder containing your song files. Use <code>game.json</code> to define your categories and the order of the songs. The <code>audio/</code>
		folder should contain all of your music as <code>.mp3</code> or <code>.m4a</code> files. <a href="files/GamepackTemplate.zip" download>
  Download the game pack template
</a> to see the required structure of your game pack.
	  </p>

	  <input
		type="file"
		id="folderInput"
		webkitdirectory
		multiple
	  />

	  <div id="upload-status" class="status">Upload a game pack</div>

	  <button id="loadGameBtn" disabled>
		Load Game
	  </button>
	  
	

	
	
	<p>Below is an example of what  your <code>game.json</code> file should look like. The only fields which are absolutely required are <code>audio</code> and <code>startOffset</code> which contain
the path to the song and the time value (in seconds) the game should start the song at, respectively. For example, if an audio file obtained from YouTube is padded with 5 seconds of initial silence,
 you should set <code>startOffset</code> to <code>5</code>. Add <code>"dailydouble": true</code> to make a question a "daily double", i.e. receive double the time. The <code>answer</code> and <code>artist</code> fields are only required if you want the reveal button to work.	</p>
 <img src="img/gamejson.jpg" style="width:50%;height:auto"></img>
 <script src="js/treblescript.js" ></script>
 </div>
 


<audio id="dailyDoubleSound" src="files/dailydouble.mp3"></audio>
</body>